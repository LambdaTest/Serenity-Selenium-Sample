# Default configuration
serenity {
  take.screenshots = FOR_FAILURES
}

# Configuration for local testing
environments {
  local {
    webdriver.driver = chrome
    webdriver.chrome.driver = "{local chrome driver path}"
    headless.mode = false
    chrome.switches = """--start-maximized;--test-type;--no-sandbox;--ignore-certificate-errors;
                        --disable-popup-blocking;--disable-default-apps;--disable-extensions-file-access-check;
                        --incognito;--disable-infobars;--disable-gpu"""
  },

  # Configuration for LambdaTest
  lambdatest {
    webdriver.driver = remote
    webdriver.remote.url = "https://"${LT_USERNAME}":"${LT_ACCESS_KEY}"@hub.lambdatest.com/wd/hub"
    # webdriver.remote.url = "http://127.0.0.1:4444"  // Local grid
    webdriver.remote.driver = chrome
    serenity.take.screenshots = FOR_FAILURES
    chrome.capabilities.browserName = "Chrome"
    chrome.capabilities.acceptInsecureCerts = true
    "chrome.capabilities.goog:chromeOptions.args" = ["--no-sandbox", "--disable-dev-shm-usage"]
    "LT:options" {
      platformName = "Windows 11"
      build = "LT Serenity mac"
    }
  }
}
